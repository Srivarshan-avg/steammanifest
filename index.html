<!DOCTYPE html>
<html>
<head>
<title>Manifest Downloader by Vexx</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body {
    font-family: Arial, sans-serif;
    background: #1b2838;
    margin: 0;
    padding: 0;
    color: #c7d5e0;
}
.head {
    text-align: center;
    padding: 20px 10px;
    background: #171a21;
    box-shadow: 0 2px 8px rgba(0,0,0,0.5);
}
.main {
    max-width: 320px;
    margin: 40px auto;
    background: #2a475e;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.5);
    text-align: center;
}
input {
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
    font-size: 14px;
    border: 1px solid #3a536e;
    border-radius: 4px;
    background: #171a21;
    color: #c7d5e0;
    box-sizing: border-box;
}
input::placeholder { color: #7a8a99; }
button {
    width: 100%;
    padding: 10px;
    font-size: 14px;
    background: #5c7e10;
    color: #fff;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}
button:hover:not(:disabled) { background: #7caf3c; }
button:disabled { background: #3a536e; cursor: not-allowed; }
#status { font-size: 13px; min-height: 18px; margin: 10px 0; }
.success { color: #5c7e10; }
.error { color: #ff6b6b; }
.corner-gif {
    position: fixed;
    width: 80px; height: 80px;
    z-index: 1000;
    pointer-events: none;
}
.top-left { top: 10px; left: 10px; }
.top-right { top: 10px; right: 10px; }
.bottom-left { bottom: 10px; left: 10px; }
.bottom-right { bottom: 10px; right: 10px; }
</style>
</head>
<body>

<img src="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExaDc3b3dqa3g5bWRpZmM5NDlqZmRrcGVoaWhwa20zNncwcXp5dzcxZyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/PQ0VI3S5vqL5pwQQJX/giphy.gif" class="corner-gif bottom-right">
<img src="https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExdDQ3MzFrMXBxMjVxdHpmcWtkMDRpdXI2aGZmbnFidmp6ejU4eGZreCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/lgcUUCXgC8mEo/giphy.gif" class="corner-gif bottom-left">
<img src="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExbmt3eXNxNG42M3k2Z2N4OHNrYXJxdDVudjFrcXgxdTljcDJqbXdhbiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/dUQL2bKltOU7cO9Maw/giphy.gif" class="corner-gif top-right">
<img src="https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExZHNzNHM3YTUybjVibnN2am1hd21zeDhiY2xuZ3gwYzB6YXIycjc3aSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/jFiNR5uXqYKrpPaA5r/giphy.gif" class="corner-gif top-left">

<div class="head">
    <h2>Get Manifest Files Easily for Cheap !!</h2>
</div>

<div class="main">
    <input id="gameId" placeholder="Enter Game ID">

    <input type="password" id="secretInput" placeholder="Enter Secret Code">
    <button id="checkSecretBtn">Verify Secret(Only for admin !! :>)</button>

    <button id="sendOtpBtn" style="margin-top:10px;">Send OTP(Kindly don't spam !! :>)</button>
    <input type="text" id="otpInput" placeholder="Enter OTP" style="display:none; margin-top:10px;">
    <button id="verifyOtpBtn" disabled>Verify OTP</button>

    <button id="downloadBtn" disabled style="margin-top:15px;">Download Manifest</button>
    <div id="status"></div>
</div>

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@3/dist/email.min.js"></script>
<script>
const serviceId = "service_54hbpa8";
const templateId = "template_bzp179m";
const publicKey = "FXF36RH6p-sv69X-G";
const secretCode = "sageisdamcute"; // your access secret

emailjs.init(publicKey);

let currentOtp = null;
let otpExpiry = null;
let accessGranted = false;
const OTP_VALID_MINUTES = 10;

function generateOtp() {
    currentOtp = Math.floor(100000 + Math.random() * 900000).toString();
    otpExpiry = Date.now() + OTP_VALID_MINUTES * 60 * 1000;
    return currentOtp;
}

document.getElementById('checkSecretBtn').addEventListener('click', () => {
    const entered = document.getElementById('secretInput').value.trim();
    if (entered === secretCode) {
        document.getElementById('status').textContent = "Secret verified. You can download now.";
        document.getElementById('status').className = "success";
        document.getElementById('downloadBtn').disabled = false;
        accessGranted = true;
    } else {
        document.getElementById('status').textContent = "Invalid secret code";
        document.getElementById('status').className = "error";
    }
});

document.getElementById('sendOtpBtn').addEventListener('click', () => {
    const gameId = document.getElementById('gameId').value.trim();
    if (!gameId) {
        alert("Enter Game ID first!");
        return;
    }
    const otp = generateOtp();
    const templateParams = { to_email: "your_email@gmail.com", passcode: otp };
    emailjs.send(serviceId, templateId, templateParams)
        .then(() => {
            document.getElementById('status').textContent = "OTP sent!";
            document.getElementById('status').className = 'success';
            document.getElementById('otpInput').style.display = "block";
            document.getElementById('verifyOtpBtn').disabled = false;
            alert("OTP has been sent.");
        })
        .catch(err => {
            document.getElementById('status').textContent = "Error sending OTP: " + err.text;
            document.getElementById('status').className = 'error';
        });
});

document.getElementById('verifyOtpBtn').addEventListener('click', () => {
    const enteredOtp = document.getElementById('otpInput').value.trim();
    if (!currentOtp) {
        document.getElementById('status').textContent = "No OTP generated";
        document.getElementById('status').className = 'error';
        return;
    }
    if (Date.now() > otpExpiry) {
        document.getElementById('status').textContent = "OTP expired";
        document.getElementById('status').className = 'error';
        return;
    }
    if (enteredOtp === currentOtp) {
        document.getElementById('status').textContent = "OTP verified! You can download now.";
        document.getElementById('status').className = 'success';
        document.getElementById('downloadBtn').disabled = false;
        accessGranted = true;
    } else {
        document.getElementById('status').textContent = "Invalid OTP";
        document.getElementById('status').className = 'error';
    }
});

document.getElementById('downloadBtn').addEventListener('click', () => {
    const gameId = document.getElementById('gameId').value.trim();
    if (!gameId) {
        alert("Enter Game ID!");
        return;
    }
    if (!accessGranted) {
        alert("You must verify Secret Code or OTP first!");
        return;
    }
    window.location.href = `https://codeload.github.com/SteamAutoCracks/ManifestHub/zip/refs/heads/${gameId}`;
});
</script>

</body>
</html>
